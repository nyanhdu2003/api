2025-03-17 00:01:03.186 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.html - null null
2025-03-17 00:01:03.191 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.html - 200 null text/html;charset=utf-8 5.0495ms
2025-03-17 00:01:03.220 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.js - null null
2025-03-17 00:01:03.222 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.js - 200 null application/javascript;charset=utf-8 1.3471ms
2025-03-17 00:01:03.226 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 00:01:03.227 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 1.3292ms
2025-03-17 00:01:04.172 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - null null
2025-03-17 00:01:04.190 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.0033ms
2025-03-17 00:01:12.125 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.html - null null
2025-03-17 00:01:12.126 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.html - 200 null text/html;charset=utf-8 0.8672ms
2025-03-17 00:01:12.209 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.js - null null
2025-03-17 00:01:12.210 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.js - 200 null application/javascript;charset=utf-8 1.1517ms
2025-03-17 00:01:12.221 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 00:01:12.222 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 0.7694ms
2025-03-17 00:01:13.524 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - null null
2025-03-17 00:01:13.533 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.7588ms
2025-03-17 00:02:22.616 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=71fcf0d7-7a71-4ac7-bb7c-35511f6a30d7 - application/json 226
2025-03-17 00:02:22.617 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:02:22.617 +07:00 [INF] Route matched with {action = "UpdateQuestionWithAnswer", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuestionWithAnswer(System.Guid, QuizApp.Business.ViewModels.QuestionEditViewModel) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:02:22.641 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Content], [q0].[IsActive], [q0].[QuestionType], [a].[Id], [a].[Content], [a].[IsActive], [a].[IsCorrect], [a].[QuestionId]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Content], [q].[IsActive], [q].[QuestionType]
    FROM [Questions] AS [q]
    WHERE [q].[Id] = @__id_0
) AS [q0]
LEFT JOIN [Answers] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id]
2025-03-17 00:02:22.644 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Content], [a].[IsActive], [a].[IsCorrect], [a].[QuestionId]
FROM [Answers] AS [a]
WHERE [a].[QuestionId] = @__id_0
2025-03-17 00:02:22.653 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p4='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (Size = 255), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Answers]
OUTPUT 1
WHERE [Id] = @p0;
UPDATE [Questions] SET [Content] = @p1, [IsActive] = @p2, [QuestionType] = @p3
OUTPUT 1
WHERE [Id] = @p4;
INSERT INTO [Answers] ([Id], [Content], [IsActive], [IsCorrect], [QuestionId])
VALUES (@p5, @p6, @p7, @p8, @p9);
2025-03-17 00:02:22.655 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-03-17 00:02:22.655 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI) in 37.6466ms
2025-03-17 00:02:22.655 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:02:22.655 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=71fcf0d7-7a71-4ac7-bb7c-35511f6a30d7 - 404 null application/problem+json; charset=utf-8 39.2519ms
2025-03-17 00:02:24.414 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=71fcf0d7-7a71-4ac7-bb7c-35511f6a30d7 - application/json 226
2025-03-17 00:02:24.414 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:02:24.414 +07:00 [INF] Route matched with {action = "UpdateQuestionWithAnswer", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuestionWithAnswer(System.Guid, QuizApp.Business.ViewModels.QuestionEditViewModel) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:02:24.417 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Content], [q0].[IsActive], [q0].[QuestionType], [a].[Id], [a].[Content], [a].[IsActive], [a].[IsCorrect], [a].[QuestionId]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Content], [q].[IsActive], [q].[QuestionType]
    FROM [Questions] AS [q]
    WHERE [q].[Id] = @__id_0
) AS [q0]
LEFT JOIN [Answers] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id]
2025-03-17 00:02:24.419 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Content], [a].[IsActive], [a].[IsCorrect], [a].[QuestionId]
FROM [Answers] AS [a]
WHERE [a].[QuestionId] = @__id_0
2025-03-17 00:02:24.426 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 255), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Answers]
OUTPUT 1
WHERE [Id] = @p0;
INSERT INTO [Answers] ([Id], [Content], [IsActive], [IsCorrect], [QuestionId])
VALUES (@p1, @p2, @p3, @p4, @p5);
2025-03-17 00:02:24.428 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-03-17 00:02:24.428 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI) in 13.8168ms
2025-03-17 00:02:24.428 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:02:24.429 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=71fcf0d7-7a71-4ac7-bb7c-35511f6a30d7 - 404 null application/problem+json; charset=utf-8 14.8573ms
2025-03-17 00:05:54.868 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:05:54.907 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 00:05:54.940 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 00:05:54.996 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 00:05:55.010 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:05:55.011 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 00:05:55.019 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 00:05:55.027 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-03-17 00:05:55.035 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 00:05:55.085 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:05:55.085 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 00:05:55.086 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 00:05:55.088 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 00:05:55.090 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:05:55.091 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 00:05:55.091 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 00:05:55.092 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-03-17 00:05:55.092 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 00:05:55.241 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Quizzes] AS [q]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-17 00:05:55.317 +07:00 [INF] User profile is available. Using 'C:\Users\hungp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-17 00:05:55.392 +07:00 [INF] Now listening on: http://localhost:5269
2025-03-17 00:05:55.395 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-17 00:05:55.396 +07:00 [INF] Hosting environment: Development
2025-03-17 00:05:55.396 +07:00 [INF] Content root path: C:\Users\hungp\Fsoft\ASP.NET CORE\web\api\QuizApp.WebAPI
2025-03-17 00:05:55.582 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.html - null null
2025-03-17 00:05:55.700 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.html - 200 null text/html;charset=utf-8 119.6953ms
2025-03-17 00:05:55.719 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 00:05:55.721 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 2.5056ms
2025-03-17 00:05:55.723 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.js - null null
2025-03-17 00:05:55.729 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.js - 200 null application/javascript;charset=utf-8 6.5691ms
2025-03-17 00:05:57.288 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - null null
2025-03-17 00:05:57.490 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 201.2727ms
2025-03-17 00:06:05.724 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/api/Question/all - null null
2025-03-17 00:06:05.726 +07:00 [WRN] Failed to determine the https port for redirect.
2025-03-17 00:06:05.738 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI)'
2025-03-17 00:06:05.760 +07:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuestions() on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:06:05.856 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Content], [q].[QuestionType], [q].[IsActive]
FROM [Questions] AS [q]
2025-03-17 00:06:05.864 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizApp.Business.ViewModels.QuestionViewModel, QuizApp.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-17 00:06:05.886 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI) in 121.6759ms
2025-03-17 00:06:05.887 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI)'
2025-03-17 00:06:05.891 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/api/Question/all - 200 null application/json; charset=utf-8 167.1591ms
2025-03-17 00:06:27.066 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/api/Question/71fcf0d7-7a71-4ac7-bb7c-35511f6a30d7 - null null
2025-03-17 00:06:27.068 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetQuestionById (QuizApp.WebAPI)'
2025-03-17 00:06:27.084 +07:00 [INF] Route matched with {action = "GetQuestionById", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuestionById(System.Guid) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:06:27.140 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Content], [q].[QuestionType], [q].[IsActive]
FROM [Questions] AS [q]
WHERE [q].[Id] = @__id_0
2025-03-17 00:06:27.141 +07:00 [INF] Executing OkObjectResult, writing value of type 'QuizApp.Business.ViewModels.QuestionViewModel'.
2025-03-17 00:06:27.141 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.GetQuestionById (QuizApp.WebAPI) in 57.0397ms
2025-03-17 00:06:27.142 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetQuestionById (QuizApp.WebAPI)'
2025-03-17 00:06:27.142 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/api/Question/71fcf0d7-7a71-4ac7-bb7c-35511f6a30d7 - 200 null application/json; charset=utf-8 75.3836ms
2025-03-17 00:06:41.667 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5269/api/Question/71fcf0d7-7a71-4ac7-bb7c-35511f6a30d7 - null null
2025-03-17 00:06:41.668 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.DeleteQuestion (QuizApp.WebAPI)'
2025-03-17 00:06:41.671 +07:00 [INF] Route matched with {action = "DeleteQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteQuestion(System.Guid) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:06:41.766 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Content], [q0].[IsActive], [q0].[QuestionType], [a].[Id], [a].[Content], [a].[IsActive], [a].[IsCorrect], [a].[QuestionId]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Content], [q].[IsActive], [q].[QuestionType]
    FROM [Questions] AS [q]
    WHERE [q].[Id] = @__id_0
) AS [q0]
LEFT JOIN [Answers] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id]
2025-03-17 00:06:41.892 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Answers]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Questions]
OUTPUT 1
WHERE [Id] = @p1;
2025-03-17 00:06:41.905 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-17 00:06:41.906 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.DeleteQuestion (QuizApp.WebAPI) in 234.7537ms
2025-03-17 00:06:41.906 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.DeleteQuestion (QuizApp.WebAPI)'
2025-03-17 00:06:41.906 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5269/api/Question/71fcf0d7-7a71-4ac7-bb7c-35511f6a30d7 - 200 0 null 238.8298ms
2025-03-17 00:06:48.191 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/api/Question/all - null null
2025-03-17 00:06:48.192 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI)'
2025-03-17 00:06:48.192 +07:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuestions() on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:06:48.221 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Content], [q].[QuestionType], [q].[IsActive]
FROM [Questions] AS [q]
2025-03-17 00:06:48.222 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizApp.Business.ViewModels.QuestionViewModel, QuizApp.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-17 00:06:48.222 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI) in 30.1786ms
2025-03-17 00:06:48.223 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI)'
2025-03-17 00:06:48.223 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/api/Question/all - 200 null application/json; charset=utf-8 31.4543ms
2025-03-17 00:13:35.249 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.html - null null
2025-03-17 00:13:35.251 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.html - 200 null text/html;charset=utf-8 1.2764ms
2025-03-17 00:13:35.297 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 00:13:35.297 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 0.7454ms
2025-03-17 00:13:35.298 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.js - null null
2025-03-17 00:13:35.301 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.js - 200 null application/javascript;charset=utf-8 3.4065ms
2025-03-17 00:13:37.032 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - null null
2025-03-17 00:13:37.058 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.8943ms
2025-03-17 00:14:37.664 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.html - null null
2025-03-17 00:14:37.666 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.html - 200 null text/html;charset=utf-8 1.8917ms
2025-03-17 00:14:37.688 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.js - null null
2025-03-17 00:14:37.692 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.js - 200 null application/javascript;charset=utf-8 1.0571ms
2025-03-17 00:14:37.692 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 00:14:37.695 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 2.7763ms
2025-03-17 00:14:39.406 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - null null
2025-03-17 00:14:39.421 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.8389ms
2025-03-17 00:14:52.578 +07:00 [INF] Application is shutting down...
2025-03-17 00:17:30.306 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:17:30.355 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 00:17:30.394 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 00:17:30.468 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 00:17:30.483 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:17:30.484 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 00:17:30.494 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 00:17:30.506 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-03-17 00:17:30.514 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 00:17:30.579 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:17:30.579 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 00:17:30.580 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 00:17:30.584 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 00:17:30.586 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:17:30.587 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 00:17:30.588 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 00:17:30.588 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-03-17 00:17:30.589 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 00:17:30.802 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Quizzes] AS [q]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-17 00:17:30.891 +07:00 [INF] User profile is available. Using 'C:\Users\hungp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-17 00:17:30.980 +07:00 [INF] Now listening on: http://localhost:5269
2025-03-17 00:17:30.984 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-17 00:17:30.984 +07:00 [INF] Hosting environment: Development
2025-03-17 00:17:30.984 +07:00 [INF] Content root path: C:\Users\hungp\Fsoft\ASP.NET CORE\web\api\QuizApp.WebAPI
2025-03-17 00:17:31.211 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.html - null null
2025-03-17 00:17:31.429 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.html - 200 null text/html;charset=utf-8 220.3118ms
2025-03-17 00:17:31.455 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 00:17:31.455 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.js - null null
2025-03-17 00:17:31.457 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 2.3709ms
2025-03-17 00:17:31.460 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.js - 200 null application/javascript;charset=utf-8 5.2484ms
2025-03-17 00:17:33.370 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - null null
2025-03-17 00:17:33.566 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 196.5403ms
2025-03-17 00:18:52.558 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5269/api/Question/create - application/json 457
2025-03-17 00:18:52.561 +07:00 [WRN] Failed to determine the https port for redirect.
2025-03-17 00:18:52.565 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.CreateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:18:52.593 +07:00 [INF] Route matched with {action = "CreateQuestionWithAnswer", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestionWithAnswer(QuizApp.Business.Services.QuestionCreateViewModel) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:18:52.961 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Guid), @p5='?' (Size = 255), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (Size = 255), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?' (Size = 255), @p16='?' (DbType = Boolean), @p17='?' (DbType = Boolean), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (Size = 255), @p21='?' (DbType = Boolean), @p22='?' (DbType = Boolean), @p23='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Questions] ([Id], [Content], [IsActive], [QuestionType])
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO [Answers] ([Id], [Content], [IsActive], [IsCorrect], [QuestionId])
VALUES (@p4, @p5, @p6, @p7, @p8),
(@p9, @p10, @p11, @p12, @p13),
(@p14, @p15, @p16, @p17, @p18),
(@p19, @p20, @p21, @p22, @p23);
2025-03-17 00:18:52.977 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-17 00:18:52.984 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.CreateQuestionWithAnswer (QuizApp.WebAPI) in 383.8315ms
2025-03-17 00:18:52.985 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.CreateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:18:52.992 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5269/api/Question/create - 200 0 null 434.3238ms
2025-03-17 00:19:07.012 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/api/Question/all - null null
2025-03-17 00:19:07.015 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI)'
2025-03-17 00:19:07.023 +07:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuestions() on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:19:07.067 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Content], [q].[QuestionType], [q].[IsActive]
FROM [Questions] AS [q]
2025-03-17 00:19:07.075 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizApp.Business.ViewModels.QuestionViewModel, QuizApp.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-17 00:19:07.087 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI) in 63.2309ms
2025-03-17 00:19:07.087 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI)'
2025-03-17 00:19:07.088 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/api/Question/all - 200 null application/json; charset=utf-8 75.8675ms
2025-03-17 00:20:22.745 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.html - null null
2025-03-17 00:20:22.747 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.html - 200 null text/html;charset=utf-8 1.3346ms
2025-03-17 00:20:22.774 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.js - null null
2025-03-17 00:20:22.775 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.js - 200 null application/javascript;charset=utf-8 0.9752ms
2025-03-17 00:20:22.781 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 00:20:22.782 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 1.182ms
2025-03-17 00:20:23.265 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - null null
2025-03-17 00:20:23.282 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.8027ms
2025-03-17 00:20:28.504 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/api/Question/all - null null
2025-03-17 00:20:28.505 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI)'
2025-03-17 00:20:28.505 +07:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuestions() on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:20:28.514 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Content], [q].[QuestionType], [q].[IsActive]
FROM [Questions] AS [q]
2025-03-17 00:20:28.516 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizApp.Business.ViewModels.QuestionViewModel, QuizApp.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-17 00:20:28.517 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI) in 11.0637ms
2025-03-17 00:20:28.517 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI)'
2025-03-17 00:20:28.517 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/api/Question/all - 200 null application/json; charset=utf-8 12.7542ms
2025-03-17 00:21:51.611 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=e086a716-6468-419b-afc1-a60edded8e92 - application/json 127
2025-03-17 00:21:51.612 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:21:51.618 +07:00 [INF] Route matched with {action = "UpdateQuestionWithAnswer", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuestionWithAnswer(System.Guid, QuizApp.Business.ViewModels.QuestionEditViewModel) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:21:51.651 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-17 00:21:51.676 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI) in 58.0189ms
2025-03-17 00:21:51.676 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:21:51.676 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=e086a716-6468-419b-afc1-a60edded8e92 - 400 null application/problem+json; charset=utf-8 65.0691ms
2025-03-17 00:23:44.229 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:23:44.273 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 00:23:44.308 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 00:23:44.371 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 00:23:44.387 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:23:44.388 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 00:23:44.396 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 00:23:44.407 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-03-17 00:23:44.412 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 00:23:44.463 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:23:44.463 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 00:23:44.464 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 00:23:44.469 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 00:23:44.471 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:23:44.472 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 00:23:44.473 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 00:23:44.473 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-03-17 00:23:44.475 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 00:23:44.643 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Quizzes] AS [q]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-17 00:23:44.725 +07:00 [INF] User profile is available. Using 'C:\Users\hungp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-17 00:23:44.821 +07:00 [INF] Now listening on: http://localhost:5269
2025-03-17 00:23:44.824 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-17 00:23:44.824 +07:00 [INF] Hosting environment: Development
2025-03-17 00:23:44.825 +07:00 [INF] Content root path: C:\Users\hungp\Fsoft\ASP.NET CORE\web\api\QuizApp.WebAPI
2025-03-17 00:23:44.987 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.html - null null
2025-03-17 00:23:45.119 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.html - 200 null text/html;charset=utf-8 133.8146ms
2025-03-17 00:23:45.148 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 00:23:45.149 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.js - null null
2025-03-17 00:23:45.151 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 2.8362ms
2025-03-17 00:23:45.156 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.js - 200 null application/javascript;charset=utf-8 6.076ms
2025-03-17 00:23:46.107 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - null null
2025-03-17 00:23:46.207 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.6724ms
2025-03-17 00:24:14.489 +07:00 [INF] Application is shutting down...
2025-03-17 00:24:33.973 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:24:34.023 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 00:24:34.061 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 00:24:34.128 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 00:24:34.141 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:24:34.143 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 00:24:34.152 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 00:24:34.161 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-03-17 00:24:34.168 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 00:24:34.220 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:24:34.221 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 00:24:34.222 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 00:24:34.225 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 00:24:34.226 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:24:34.227 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 00:24:34.228 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 00:24:34.228 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-03-17 00:24:34.229 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 00:24:34.389 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Quizzes] AS [q]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-17 00:24:34.462 +07:00 [INF] User profile is available. Using 'C:\Users\hungp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-17 00:24:34.539 +07:00 [INF] Now listening on: http://localhost:5269
2025-03-17 00:24:34.542 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-17 00:24:34.543 +07:00 [INF] Hosting environment: Development
2025-03-17 00:24:34.543 +07:00 [INF] Content root path: C:\Users\hungp\Fsoft\ASP.NET CORE\web\api\QuizApp.WebAPI
2025-03-17 00:24:34.745 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.html - null null
2025-03-17 00:24:34.958 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.js - null null
2025-03-17 00:24:34.939 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.html - 200 null text/html;charset=utf-8 195.1272ms
2025-03-17 00:24:34.963 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.js - 200 null application/javascript;charset=utf-8 4.9957ms
2025-03-17 00:24:34.972 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 00:24:34.976 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 4.1941ms
2025-03-17 00:24:36.502 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - null null
2025-03-17 00:24:36.651 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 148.6047ms
2025-03-17 00:25:19.525 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=e086a716-6468-419b-afc1-a60edded8e92 - application/json 79
2025-03-17 00:25:19.529 +07:00 [WRN] Failed to determine the https port for redirect.
2025-03-17 00:25:19.533 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:25:19.562 +07:00 [INF] Route matched with {action = "UpdateQuestionWithAnswer", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuestionWithAnswer(System.Guid, QuizApp.Business.ViewModels.QuestionEditViewModel) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:25:19.630 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-17 00:25:19.652 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI) in 85.095ms
2025-03-17 00:25:19.652 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:25:19.653 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=e086a716-6468-419b-afc1-a60edded8e92 - 400 null application/problem+json; charset=utf-8 128.0141ms
2025-03-17 00:25:22.469 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=e086a716-6468-419b-afc1-a60edded8e92 - application/json 79
2025-03-17 00:25:22.471 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:25:22.471 +07:00 [INF] Route matched with {action = "UpdateQuestionWithAnswer", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuestionWithAnswer(System.Guid, QuizApp.Business.ViewModels.QuestionEditViewModel) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:25:22.475 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-17 00:25:22.475 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI) in 4.0499ms
2025-03-17 00:25:22.476 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:25:22.476 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=e086a716-6468-419b-afc1-a60edded8e92 - 400 null application/problem+json; charset=utf-8 6.7169ms
2025-03-17 00:26:11.536 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.html - null null
2025-03-17 00:26:11.537 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.html - 200 null text/html;charset=utf-8 1.425ms
2025-03-17 00:26:11.574 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.js - null null
2025-03-17 00:26:11.594 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.js - 200 null application/javascript;charset=utf-8 0.9445ms
2025-03-17 00:26:11.594 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 00:26:11.595 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 0.5801ms
2025-03-17 00:26:13.156 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - null null
2025-03-17 00:26:13.165 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.8597ms
2025-03-17 00:27:42.209 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=e086a716-6468-419b-afc1-a60edded8e92 - application/json 234
2025-03-17 00:27:42.211 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:27:42.219 +07:00 [INF] Route matched with {action = "UpdateQuestionWithAnswer", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuestionWithAnswer(System.Guid, QuizApp.Business.ViewModels.QuestionEditViewModel) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:27:42.524 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Content], [q0].[IsActive], [q0].[QuestionType], [a].[Id], [a].[Content], [a].[IsActive], [a].[IsCorrect], [a].[QuestionId]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Content], [q].[IsActive], [q].[QuestionType]
    FROM [Questions] AS [q]
    WHERE [q].[Id] = @__id_0
) AS [q0]
LEFT JOIN [Answers] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id]
2025-03-17 00:27:42.630 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Content], [a].[IsActive], [a].[IsCorrect], [a].[QuestionId]
FROM [Answers] AS [a]
WHERE [a].[QuestionId] = @__id_0
2025-03-17 00:27:42.809 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p6='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (Size = 255), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Answers]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Answers]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Answers]
OUTPUT 1
WHERE [Id] = @p2;
UPDATE [Questions] SET [Content] = @p3, [IsActive] = @p4, [QuestionType] = @p5
OUTPUT 1
WHERE [Id] = @p6;
DELETE FROM [Answers]
OUTPUT 1
WHERE [Id] = @p7;
INSERT INTO [Answers] ([Id], [Content], [IsActive], [IsCorrect], [QuestionId])
VALUES (@p8, @p9, @p10, @p11, @p12);
2025-03-17 00:27:42.832 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-03-17 00:27:42.838 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI) in 618.1668ms
2025-03-17 00:27:42.838 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:27:42.845 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=e086a716-6468-419b-afc1-a60edded8e92 - 404 null application/problem+json; charset=utf-8 636.057ms
2025-03-17 00:56:15.967 +07:00 [INF] Application is shutting down...
2025-03-17 00:57:14.914 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:57:14.982 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 00:57:15.029 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 00:57:15.120 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 00:57:15.141 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:57:15.144 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 00:57:15.157 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 00:57:15.169 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-03-17 00:57:15.178 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 00:57:15.286 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:57:15.287 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 00:57:15.289 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 00:57:15.296 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 00:57:15.299 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 00:57:15.301 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 00:57:15.303 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 00:57:15.304 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-03-17 00:57:15.306 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 00:57:15.578 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Quizzes] AS [q]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-17 00:57:15.672 +07:00 [INF] User profile is available. Using 'C:\Users\hungp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-17 00:57:15.761 +07:00 [INF] Now listening on: http://localhost:5269
2025-03-17 00:57:15.764 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-17 00:57:15.764 +07:00 [INF] Hosting environment: Development
2025-03-17 00:57:15.764 +07:00 [INF] Content root path: C:\Users\hungp\Fsoft\ASP.NET CORE\web\api\QuizApp.WebAPI
2025-03-17 00:57:16.012 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.html - null null
2025-03-17 00:57:16.244 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.html - 200 null text/html;charset=utf-8 234.2803ms
2025-03-17 00:57:16.277 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 00:57:16.280 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 3.0044ms
2025-03-17 00:57:16.281 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.js - null null
2025-03-17 00:57:16.286 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.js - 200 null application/javascript;charset=utf-8 4.6477ms
2025-03-17 00:57:17.833 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - null null
2025-03-17 00:57:17.970 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.3461ms
2025-03-17 00:59:39.822 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=b44f70c4-c8e3-45f2-82f8-401ffe0ba9c5 - application/json 128
2025-03-17 00:59:39.825 +07:00 [WRN] Failed to determine the https port for redirect.
2025-03-17 00:59:39.828 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:59:39.857 +07:00 [INF] Route matched with {action = "UpdateQuestionWithAnswer", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuestionWithAnswer(System.Guid, QuizApp.Business.ViewModels.QuestionEditViewModel) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 00:59:39.918 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-17 00:59:39.939 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI) in 79.7918ms
2025-03-17 00:59:39.940 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 00:59:39.941 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=b44f70c4-c8e3-45f2-82f8-401ffe0ba9c5 - 400 null application/problem+json; charset=utf-8 119.6255ms
2025-03-17 01:00:08.140 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=b44f70c4-c8e3-45f2-82f8-401ffe0ba9c5 - application/json 235
2025-03-17 01:00:08.141 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 01:00:08.142 +07:00 [INF] Route matched with {action = "UpdateQuestionWithAnswer", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuestionWithAnswer(System.Guid, QuizApp.Business.ViewModels.QuestionEditViewModel) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 01:00:08.145 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-17 01:00:08.146 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI) in 3.8839ms
2025-03-17 01:00:08.146 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 01:00:08.146 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=b44f70c4-c8e3-45f2-82f8-401ffe0ba9c5 - 400 null application/problem+json; charset=utf-8 6.3111ms
2025-03-17 01:00:37.368 +07:00 [INF] Application is shutting down...
2025-03-17 01:03:49.194 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 01:03:49.280 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 01:03:49.339 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 01:03:49.442 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 01:03:49.466 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 01:03:49.468 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 01:03:49.478 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 01:03:49.499 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-03-17 01:03:49.508 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 01:03:49.600 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 01:03:49.600 +07:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-17 01:03:49.601 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-17 01:03:49.606 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-17 01:03:49.609 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-17 01:03:49.610 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-17 01:03:49.611 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-17 01:03:49.611 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-03-17 01:03:49.612 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-17 01:03:49.883 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Quizzes] AS [q]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-17 01:03:50.045 +07:00 [INF] User profile is available. Using 'C:\Users\hungp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-17 01:03:50.193 +07:00 [INF] Now listening on: http://localhost:5269
2025-03-17 01:03:50.197 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-17 01:03:50.198 +07:00 [INF] Hosting environment: Development
2025-03-17 01:03:50.198 +07:00 [INF] Content root path: C:\Users\hungp\Fsoft\ASP.NET CORE\web\api\QuizApp.WebAPI
2025-03-17 01:03:50.518 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.html - null null
2025-03-17 01:03:50.780 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.html - 200 null text/html;charset=utf-8 264.5015ms
2025-03-17 01:03:50.810 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - null null
2025-03-17 01:03:50.811 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/index.js - null null
2025-03-17 01:03:50.815 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 5.0525ms
2025-03-17 01:03:50.826 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/index.js - 200 null application/javascript;charset=utf-8 16.4102ms
2025-03-17 01:03:53.040 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - null null
2025-03-17 01:03:53.258 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 217.0873ms
2025-03-17 01:04:01.391 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/api/Question/all - null null
2025-03-17 01:04:01.394 +07:00 [WRN] Failed to determine the https port for redirect.
2025-03-17 01:04:01.440 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI)'
2025-03-17 01:04:01.465 +07:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuestions() on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 01:04:01.587 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Content], [q].[QuestionType], [q].[IsActive]
FROM [Questions] AS [q]
2025-03-17 01:04:01.602 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizApp.Business.ViewModels.QuestionViewModel, QuizApp.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-17 01:04:01.640 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI) in 169.6187ms
2025-03-17 01:04:01.640 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI)'
2025-03-17 01:04:01.646 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/api/Question/all - 200 null application/json; charset=utf-8 255.2187ms
2025-03-17 01:05:42.571 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=e26eed35-97a1-427a-8592-62cd6a76a728 - application/json 230
2025-03-17 01:05:42.578 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 01:05:42.644 +07:00 [INF] Route matched with {action = "UpdateQuestionWithAnswer", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuestionWithAnswer(System.Guid, QuizApp.Business.ViewModels.QuestionEditViewModel) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 01:05:42.719 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-17 01:05:42.750 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI) in 105.6598ms
2025-03-17 01:05:42.751 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 01:05:42.752 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=e26eed35-97a1-427a-8592-62cd6a76a728 - 400 null application/problem+json; charset=utf-8 180.7003ms
2025-03-17 01:06:20.354 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=e26eed35-97a1-427a-8592-62cd6a76a728 - application/json 227
2025-03-17 01:06:20.355 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 01:06:20.355 +07:00 [INF] Route matched with {action = "UpdateQuestionWithAnswer", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuestionWithAnswer(System.Guid, QuizApp.Business.ViewModels.QuestionEditViewModel) on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 01:06:20.605 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[Content], [q0].[IsActive], [q0].[QuestionType], [a].[Id], [a].[Content], [a].[IsActive], [a].[IsCorrect], [a].[QuestionId]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Content], [q].[IsActive], [q].[QuestionType]
    FROM [Questions] AS [q]
    WHERE [q].[Id] = @__id_0
) AS [q0]
LEFT JOIN [Answers] AS [a] ON [q0].[Id] = [a].[QuestionId]
ORDER BY [q0].[Id]
2025-03-17 01:06:20.738 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Content], [a].[IsActive], [a].[IsCorrect], [a].[QuestionId]
FROM [Answers] AS [a]
WHERE [a].[QuestionId] = @__id_0
2025-03-17 01:06:20.947 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p4='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (Size = 255), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Answers]
OUTPUT 1
WHERE [Id] = @p0;
UPDATE [Questions] SET [Content] = @p1, [IsActive] = @p2, [QuestionType] = @p3
OUTPUT 1
WHERE [Id] = @p4;
INSERT INTO [Answers] ([Id], [Content], [IsActive], [IsCorrect], [QuestionId])
VALUES (@p5, @p6, @p7, @p8, @p9);
2025-03-17 01:06:20.969 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-03-17 01:06:20.974 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI) in 619.1637ms
2025-03-17 01:06:20.975 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.UpdateQuestionWithAnswer (QuizApp.WebAPI)'
2025-03-17 01:06:20.976 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5269/api/Question/update?id=e26eed35-97a1-427a-8592-62cd6a76a728 - 404 null application/problem+json; charset=utf-8 621.4033ms
2025-03-17 01:07:39.960 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5269/api/Question/all - null null
2025-03-17 01:07:39.960 +07:00 [INF] Executing endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI)'
2025-03-17 01:07:39.961 +07:00 [INF] Route matched with {action = "GetAllQuestions", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuestions() on controller QuizApp.WebAPI.Controllers.QuestionController (QuizApp.WebAPI).
2025-03-17 01:07:39.968 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [q].[Id], [q].[Content], [q].[QuestionType], [q].[IsActive]
FROM [Questions] AS [q]
2025-03-17 01:07:39.969 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuizApp.Business.ViewModels.QuestionViewModel, QuizApp.Business, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-17 01:07:39.969 +07:00 [INF] Executed action QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI) in 8.3821ms
2025-03-17 01:07:39.969 +07:00 [INF] Executed endpoint 'QuizApp.WebAPI.Controllers.QuestionController.GetAllQuestions (QuizApp.WebAPI)'
2025-03-17 01:07:39.970 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5269/api/Question/all - 200 null application/json; charset=utf-8 9.7838ms
2025-03-17 01:08:43.704 +07:00 [INF] Application is shutting down...
